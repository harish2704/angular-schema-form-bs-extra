angular.module("asf.bs-extra",["ui.select","ui.bootstrap.datetimepicker","ngFileUpload","ngImgCrop"]).service("bseDataSource",function(){var e={};this.addSource=function(t,a){e[t]=a},this.search=function(t,a){var o=e["default"];if(t&&t.searchFn&&(o=e[t.sourceFn],!o))throw new Error("asf-bs-extra: Search function "+t.searchFn+" is not registered");return o(t,a)}}).controller("typeaheadCtrl",["$scope","bseDataSource","$interpolate",function(e,t,a){function o(e,t){e.splice(0),t.forEach(function(t){e.push(t)})}var r={};e.optionsData=[],e.search=function(a,r){e.form.isAsync?t.search(a,r).then(function(t){o(e.optionsData,t)}):o(e.optionsData,t.search(a,r))},e.getVal=function(e,t){return void 0===t?e:(r[t]||(r[t]=a(t)),r[t](e))}}]).directive("bseFileupload",["Upload",function(e){return{restrict:"A",scope:!0,require:"ngModel",link:function(t,a,o,r){t.modelCtrl=r,t.fieldName=t.form.key[0],t.picFile=null,t._state=Object.keys(r.$modelValue).length?"loaded":"empty",t.$watch("picFile",function(e,t,a){e&&(a._state="changed")}),t.upload=function(a,o){e.upload({url:"/upload?group="+t.form.groupName,data:{file:e.dataUrltoBlob(a,o)}}).then(function(e){Object.assign(r.$modelValue,e.data[0]),t._state="loaded"},function(e){e.status>0&&(t.errorMsg=e.status+": "+e.data)},function(e){t.progress=parseInt(100*e.loaded/e.total)})}}}}]),angular.module("asf.bs-extra").config(["schemaFormDecoratorsProvider","sfBuilderProvider","schemaFormProvider","sfPathProvider",function(e,t,a,o){e.defineAddOn("bootstrapDecorator","bse:multiselect","asf-bs-extra/multi-select.html",t.stdBuilders),e.defineAddOn("bootstrapDecorator","bse:select","asf-bs-extra/select.html",t.stdBuilders),e.defineAddOn("bootstrapDecorator","bse:datetime","asf-bs-extra/datetime.html",t.stdBuilders),e.defineAddOn("bootstrapDecorator","bse:fileupload","asf-bs-extra/fileupload.html",t.stdBuilders),e.defineAddOn("bootstrapDecorator","bse:typeahead","asf-bs-extra/typeahead.html",t.stdBuilders)}]);